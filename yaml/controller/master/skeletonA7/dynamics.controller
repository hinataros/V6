# @author Sho Miyahara 2018

Controller:
  Control model: skeletonA7SF
  Input: torque
  # Driven: mix
  # Trigger: check contact

  Default:
    Inverse dynamics controller: fullDynamicsController

    Operational space controller: decomposeEndEffectorAcceleration
    Motion controller: mixedGeneralizedMomentum

    Force controller: centroidalEcmpDistribution
    Momentum controller: centroidalDcmMomentum

    # Force controller: centroidalDistribution
    # Momentum controller: centroidalMomentum

    Torque controller: mixedOpt
    # Torque controller: mixedmixedOpt

    Desired DCM generator: {name: CP}
    Desired base orientation generator: {name: CP}

    # Desired control node motion generator:
    #   RLEGEE: {name: walking}
    #   LLEGEE: {name: walking}

    KX: 3.e+2
    KpC: 3.e+2
    KdC: 5.e+1
    KpwB: 3.e+2
    KdwB: 5.e+1

    Kpv:
      # RLEGEE: 5.e+3
      # LLEGEE: 5.e+3
      RLEGEE: 5.e+2
      LLEGEE: 5.e+2
    Kdv:
      # RLEGEE: 5.e+2
      # LLEGEE: 5.e+2
      RLEGEE: 5.e+1
      LLEGEE: 5.e+1

    # KDlC: 1.e+1
    # KDth: 1.e+2
    kDth: &kDthH 1.e+2
    # kthHinit: &kthHinit 5.e+0
    KDth:
      [0.,0.,0.,0.,0.,0., 0.,0.,0.,0.,0.,0.,
      *kDthH, *kDthH, *kDthH, *kDthH, *kDthH, *kDthH, *kDthH,
      *kDthH, *kDthH, *kDthH, *kDthH, *kDthH, *kDthH, *kDthH]
    # Kthinit:
    #   - [0.,0.,0.,0.,0.,0.]
    #   - [0.,0.,0.,0.,0.,0.]
    #   - [*kthHinit, *kthHinit, *kthHinit, *kthHinit]
    #   - [*kthHinit, *kthHinit, *kthHinit, *kthHinit]
    Bc: &ds
      RLEGEE: [1, 1, 1, 1, 1, 1]
      LLEGEE: [1, 1, 1, 1, 1, 1]
    Bm: &zs
      RLEGEE: [0, 0, 0, 0, 0, 0]
      LLEGEE: [0, 0, 0, 0, 0, 0]

  Sequence:
    -
      twf: 1.
    -
      twf: 1.
      xiBf: [0., 0.52, 0.]
